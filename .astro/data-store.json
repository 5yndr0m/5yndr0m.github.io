[["Map",1,2,9,10],"meta::meta",["Map",3,4,5,6,7,8],"astro-version","5.16.6","astro-config-digest","{\"root\":{},\"srcDir\":{},\"publicDir\":{},\"outDir\":{},\"cacheDir\":{},\"site\":\"https://5yndr0m.github.io\",\"compressHTML\":true,\"base\":\"/\",\"trailingSlash\":\"ignore\",\"output\":\"static\",\"scopedStyleStrategy\":\"attribute\",\"build\":{\"format\":\"directory\",\"client\":{},\"server\":{},\"assets\":\"_astro\",\"serverEntry\":\"entry.mjs\",\"redirects\":true,\"inlineStylesheets\":\"auto\",\"concurrency\":1},\"server\":{\"open\":false,\"host\":false,\"port\":4321,\"streaming\":true,\"allowedHosts\":[]},\"redirects\":{},\"image\":{\"endpoint\":{\"route\":\"/_image\"},\"service\":{\"entrypoint\":\"astro/assets/services/sharp\",\"config\":{}},\"domains\":[],\"remotePatterns\":[],\"responsiveStyles\":false},\"devToolbar\":{\"enabled\":true},\"markdown\":{\"syntaxHighlight\":{\"type\":\"shiki\",\"excludeLangs\":[\"math\"]},\"shikiConfig\":{\"langs\":[],\"langAlias\":{},\"theme\":\"github-dark\",\"themes\":{},\"wrap\":false,\"transformers\":[]},\"remarkPlugins\":[],\"rehypePlugins\":[],\"remarkRehype\":{},\"gfm\":true,\"smartypants\":true},\"security\":{\"checkOrigin\":true,\"allowedDomains\":[]},\"env\":{\"schema\":{},\"validateSecrets\":false},\"experimental\":{\"clientPrerender\":false,\"contentIntellisense\":false,\"headingIdCompat\":false,\"preserveScriptOrder\":false,\"liveContentCollections\":false,\"csp\":false,\"staticImportMetaEnv\":false,\"chromeDevtoolsWorkspace\":false,\"failOnPrerenderConflict\":false,\"svgo\":false},\"legacy\":{\"collections\":false}}","content-config-digest","045f0bf894afb08c","blog",["Map",11,12],"setting-up-windows-vm-on-arch-linux",{"id":11,"data":13,"body":23,"filePath":24,"digest":25,"rendered":26},{"title":14,"date":15,"excerpt":16,"tags":17,"coverImage":22},"Setting Up a Windows VM on Arch Linux","2025-08-01","A comprehensive guide to running Windows 10/11 with near-native performance on Arch Linux using QEMU, KVM, and VirtIO drivers.",[18,19,20,21],"arch","vm","kvm","guide","/images/blog/vm-setup.jpg","Running Windows in a virtual machine on Arch Linux is straightforward with QEMU/KVM and virt-manager. This guide walks you through creating a Windows VM with optimized performance using VirtIO drivers.\n\n## Step 1: Download Windows ISO\n\nFirst, you'll need a Windows installation image. Visit Microsoft's official website to download the Windows 10 or Windows 11 ISO. If you have a Windows license, you can use the Media Creation Tool. Save the ISO file somewhere accessible, like `/home/syndrom/Downloads/`.\n\n## Step 2: Download VirtIO Drivers\n\nWindows needs special drivers for optimal performance with KVM. These VirtIO drivers significantly improve disk and network performance. Download them with:\n\n```bash\n# Download the latest stable VirtIO drivers ISO\nwget https://fedorapeople.org/groups/virt/virtio-win/direct-downloads/stable-virtio/virtio-win.iso -O ~/Downloads/virtio-win.iso\n```\n\n## Step 3: Create the Windows VM\n\nLaunch virt-manager and create a new virtual machine. Select \"Local install media (ISO image or CDROM)\" and click Forward. Browse to your Windows ISO file and let it automatically detect the operating system. If detection fails, manually select Microsoft Windows and your specific version.\n\nFor memory and CPU settings, allocate at least 4GB of RAM (4096 MB) for Windows 10/11, and 2-4 CPU cores depending on what your system can handle. Create a disk image of at least 50GB, though more is recommended for a comfortable experience.\n\nOn the final configuration screen, name your VM something like \"Windows-10\" and importantly, check \"Customize configuration before install\" before clicking Finish.\n\n## Step 4: Optimize VM Settings\n\nThe configuration window provides several optimization opportunities. In Boot Options, enable the boot menu and ensure the CD-ROM is first in the boot order.\n\nAdd the VirtIO drivers by clicking \"Add Hardware\", selecting Storage, choosing \"CDROM device\", and browsing to the virtio-win.iso file you downloaded earlier.\n\nFor better performance, change your network device model to \"virtio\" and your main disk bus to \"VirtIO\" (this requires loading drivers during Windows installation). Set the video model to \"QXL\" or \"Virtio\", and if you need audio, set the sound model to \"ich9\".\n\n## Step 5: Install Windows\n\nClick \"Begin Installation\" to start the VM. It will boot from the Windows ISO. During installation, when you reach the disk selection screen, you might not see any drives initially. This is normal.\n\nClick \"Load driver\" and browse to the VirtIO CD-ROM. Navigate to `viostor/w10/amd64` (or the appropriate version for your Windows) and select the storage driver. Your disk should now appear, and you can continue with the normal Windows installation process.\n\n## Step 6: Install VirtIO Drivers (Post-installation)\n\nAfter Windows boots for the first time, you need to install the remaining VirtIO drivers. Open File Explorer, navigate to the VirtIO CD-ROM, and run `virtio-win-gt-x64.msi`. This installs all the remaining drivers for optimal performance.\n\nI also recommend installing SPICE Guest Tools, which you can find at the SPICE project website or on the VirtIO CD-ROM at `guest-agent/qemu-ga-x86_64.msi`. This enables clipboard sharing, dynamic resolution adjustment, and better overall integration between host and guest.\n\n## Step 7: Optimize Performance\n\nWithin Windows, you can improve performance by disabling Windows Search indexing, unnecessary startup programs, and Windows Defender real-time protection if you don't need it. You can also disable visual effects through Control Panel → System → Advanced → Performance and select \"Adjust for best performance\".\n\nIn the VM settings, allocate more RAM if you have it available and enable hardware acceleration if your CPU supports it.\n\n## Useful Tips\n\nTake snapshots before making major changes using virt-manager. You can set up shared folders using SPICE WebDAV or Samba. USB devices can be passed through from the host to the VM when needed. Press Ctrl+Alt+F to toggle full screen mode in the VM viewer.\n\nWith these settings, you should have a well-performing Windows VM running on your Arch Linux system!","src/content/blog/setting-up-windows-vm-on-arch-linux.md","3f6df376d8e96739",{"html":27,"metadata":28},"\u003Cp>Running Windows in a virtual machine on Arch Linux is straightforward with QEMU/KVM and virt-manager. This guide walks you through creating a Windows VM with optimized performance using VirtIO drivers.\u003C/p>\n\u003Ch2 id=\"step-1-download-windows-iso\">Step 1: Download Windows ISO\u003C/h2>\n\u003Cp>First, you’ll need a Windows installation image. Visit Microsoft’s official website to download the Windows 10 or Windows 11 ISO. If you have a Windows license, you can use the Media Creation Tool. Save the ISO file somewhere accessible, like \u003Ccode>/home/syndrom/Downloads/\u003C/code>.\u003C/p>\n\u003Ch2 id=\"step-2-download-virtio-drivers\">Step 2: Download VirtIO Drivers\u003C/h2>\n\u003Cp>Windows needs special drivers for optimal performance with KVM. These VirtIO drivers significantly improve disk and network performance. Download them with:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\"># Download the latest stable VirtIO drivers ISO\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">wget\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> https://fedorapeople.org/groups/virt/virtio-win/direct-downloads/stable-virtio/virtio-win.iso\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -O\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> ~/Downloads/virtio-win.iso\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch2 id=\"step-3-create-the-windows-vm\">Step 3: Create the Windows VM\u003C/h2>\n\u003Cp>Launch virt-manager and create a new virtual machine. Select “Local install media (ISO image or CDROM)” and click Forward. Browse to your Windows ISO file and let it automatically detect the operating system. If detection fails, manually select Microsoft Windows and your specific version.\u003C/p>\n\u003Cp>For memory and CPU settings, allocate at least 4GB of RAM (4096 MB) for Windows 10/11, and 2-4 CPU cores depending on what your system can handle. Create a disk image of at least 50GB, though more is recommended for a comfortable experience.\u003C/p>\n\u003Cp>On the final configuration screen, name your VM something like “Windows-10” and importantly, check “Customize configuration before install” before clicking Finish.\u003C/p>\n\u003Ch2 id=\"step-4-optimize-vm-settings\">Step 4: Optimize VM Settings\u003C/h2>\n\u003Cp>The configuration window provides several optimization opportunities. In Boot Options, enable the boot menu and ensure the CD-ROM is first in the boot order.\u003C/p>\n\u003Cp>Add the VirtIO drivers by clicking “Add Hardware”, selecting Storage, choosing “CDROM device”, and browsing to the virtio-win.iso file you downloaded earlier.\u003C/p>\n\u003Cp>For better performance, change your network device model to “virtio” and your main disk bus to “VirtIO” (this requires loading drivers during Windows installation). Set the video model to “QXL” or “Virtio”, and if you need audio, set the sound model to “ich9”.\u003C/p>\n\u003Ch2 id=\"step-5-install-windows\">Step 5: Install Windows\u003C/h2>\n\u003Cp>Click “Begin Installation” to start the VM. It will boot from the Windows ISO. During installation, when you reach the disk selection screen, you might not see any drives initially. This is normal.\u003C/p>\n\u003Cp>Click “Load driver” and browse to the VirtIO CD-ROM. Navigate to \u003Ccode>viostor/w10/amd64\u003C/code> (or the appropriate version for your Windows) and select the storage driver. Your disk should now appear, and you can continue with the normal Windows installation process.\u003C/p>\n\u003Ch2 id=\"step-6-install-virtio-drivers-post-installation\">Step 6: Install VirtIO Drivers (Post-installation)\u003C/h2>\n\u003Cp>After Windows boots for the first time, you need to install the remaining VirtIO drivers. Open File Explorer, navigate to the VirtIO CD-ROM, and run \u003Ccode>virtio-win-gt-x64.msi\u003C/code>. This installs all the remaining drivers for optimal performance.\u003C/p>\n\u003Cp>I also recommend installing SPICE Guest Tools, which you can find at the SPICE project website or on the VirtIO CD-ROM at \u003Ccode>guest-agent/qemu-ga-x86_64.msi\u003C/code>. This enables clipboard sharing, dynamic resolution adjustment, and better overall integration between host and guest.\u003C/p>\n\u003Ch2 id=\"step-7-optimize-performance\">Step 7: Optimize Performance\u003C/h2>\n\u003Cp>Within Windows, you can improve performance by disabling Windows Search indexing, unnecessary startup programs, and Windows Defender real-time protection if you don’t need it. You can also disable visual effects through Control Panel → System → Advanced → Performance and select “Adjust for best performance”.\u003C/p>\n\u003Cp>In the VM settings, allocate more RAM if you have it available and enable hardware acceleration if your CPU supports it.\u003C/p>\n\u003Ch2 id=\"useful-tips\">Useful Tips\u003C/h2>\n\u003Cp>Take snapshots before making major changes using virt-manager. You can set up shared folders using SPICE WebDAV or Samba. USB devices can be passed through from the host to the VM when needed. Press Ctrl+Alt+F to toggle full screen mode in the VM viewer.\u003C/p>\n\u003Cp>With these settings, you should have a well-performing Windows VM running on your Arch Linux system!\u003C/p>",{"headings":29,"localImagePaths":55,"remoteImagePaths":56,"frontmatter":57,"imagePaths":59},[30,34,37,40,43,46,49,52],{"depth":31,"slug":32,"text":33},2,"step-1-download-windows-iso","Step 1: Download Windows ISO",{"depth":31,"slug":35,"text":36},"step-2-download-virtio-drivers","Step 2: Download VirtIO Drivers",{"depth":31,"slug":38,"text":39},"step-3-create-the-windows-vm","Step 3: Create the Windows VM",{"depth":31,"slug":41,"text":42},"step-4-optimize-vm-settings","Step 4: Optimize VM Settings",{"depth":31,"slug":44,"text":45},"step-5-install-windows","Step 5: Install Windows",{"depth":31,"slug":47,"text":48},"step-6-install-virtio-drivers-post-installation","Step 6: Install VirtIO Drivers (Post-installation)",{"depth":31,"slug":50,"text":51},"step-7-optimize-performance","Step 7: Optimize Performance",{"depth":31,"slug":53,"text":54},"useful-tips","Useful Tips",[],[],{"title":14,"date":15,"excerpt":16,"tags":58,"coverImage":22},[18,19,20,21],[]]